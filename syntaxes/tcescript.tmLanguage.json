{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "TCE Script",
	"patterns": [
		{
			"include": "#keywords"
		},
		{
			"include": "#subKeywords"
		},
		{
			"include": "#constant"
		},
		{
			"include": "#strings"
		},
		{
			"name": "meta.selector",
			"match": "txt-[\\w-]+"
		},
		{
			"include": "#entity"
		},
		{
			"name": "keyword.other.unit",
			"match": "\\B(\\+[A-Za-z][A-Za-z_\\d-]+)"
		},
		{
			"name": "string.regexp",
			"match": "\\B(-[A-Za-z][A-Za-z_\\d-]+)"
		},
		{
			"name": "constant.numeric.tcescript",
			"match": "-?[\\d]*\\.\\.-?[\\d]*"
		},
		{
			"name": "constant.numeric.tcescript",
			"match": "\\b[\\d]+\\.?[\\d]*\\b"
		},
		{
			"name": "punctuation.definition.tag",
			"match": "[\\w\\/]+\\.png\\b"
		},
		{
			"name": "comment",
			"match": "#.*$"
		}
	],
	"repository": {
		"keywords": {
			"patterns": [{
				"match": "[\\s,:{](id|targetId|if|while|for|return|select|partyEvents|charEvents|storeEvents|npcEvents|text|report|actionText|chat|setStatus|addStatus|reqStatus|reqCharFlags|setCharFlags|description|name|ambientSound|specialBiomes|extends|reqLoyalty|loyalty|actions|playMusic|items|slots|reqDifficulty|reqItems|refs|ref|win|flee|loot|cance|close|reqAge|reqMaxPerWorld|alwaysShown|standing|events|combat|reqWorld|addCharacter|count|winEvents|failEvents|reqDice|sanity|reqLevel|optional|health|consume|reqBiomeFlags|reqCharacter|restoreCharacter|setPartyFlags|incAchievement|showPartyCount|reqLocationFlags|setLocationFlags|chance|zones|perlin|tile|flags|eventImg|tokenIdx|terrain|dist|group|debugCategory|tripEvents|important|sprite|title|storeCharacter|dropItems|barter|baseValue|cancel|base|lines|compassScore|reqTutorial|setPartyStatus|reqSanity|setPartyStatus|addLocation|prio|posTile|revealTiles|reqPartyStatus|unlockPocket|turns|reqPartyFlags|deactivateZones|reqHealth|reqItemsValue|teleport|reqPartyCount|showImage|gameOver|addZone|setTileFlags|src|type|showCampFire|reqTileFlags|reqGender|removeCharacter|reqFreePartyCount|unstoreCharacter|reqWorldFlags|funds|maxExpedition|hidePartyOffer|npc|resetGlobalInv|removeStatusWithFlags|mapScore|spawnEvents|hideParty|setTile|particle|maxStack|useEvents|value|autoRemove|showHint|replaceLocations|fame|karma|reqStatusFlags|bonus|wait|reqStatusDayAge|reqLocation|startSprawl|delayedEvent|reqStanding|isAbstract|setLocationFlags|reqLocationFlags|travelEvent|playSound|removeItem|noWeight|losable|metaItem|cloneCharacter|maxChargeTime|posPunch|dayEvents|reqCanStartSprawl|camShake|replaceTiles|isWeapon|maxDice|tempDice|reqTiles|resetStatusAge|buffDays|biomes|debugColor|viewCost|moveSounds|travelParticle|sprawls|sprites|moveCost|setNeighbors|reqZone|setLocationParticle|resetLocationAge|subLocations|isRemovable|keepReachable|hintBiome|hintCompass|keepReachable|extraFame|locations|goals|slotMarker|buffEndEvents|dowsing|itemEvents|setTempFlags|reqTempFlags|levels|alwaysUnlocked|characters|variations|miniSprite|endWorld|warpWorld|unlockCharacter|color|offsetX|offsetY|velX|velY|weight|scale|velScale|fadeStart|maxTime|isAbsolute|keys|time|imgSrc|timer|cameraZoom|timeJump|moveSpeed|borderImgIdx|size|moveSpeed|aggroChance|maxSeekTurns|addNPC|miniMap|removeZones|worldMap|reqKarma|superMove|hasStash|initItems|addButterfly|playTutorial|removeZone|canAttack|showOutline|eventChance|stopTravel|tileFlags|alwaysSeeking|reqRanking|imgSlot|unlockPin|isPerk|fleeEvents|removeStatus|unwarpWorld|borderBiome|reqItemFlags|showInHallOfFame|faces|mountedDice|reqMounted|mountedStatuses|extraSprites|isMountable|configSettings|modEntries|data|spriteSheets|hasTinted|file|authors|version|defaultLang|preview|twitter|mail|steam|modInfo|imageData|maximizeDistance|offsets|isLeftFacingSprite|import|logLevel|enabled|weblink|rest)[\\s,:}]",				
				"captures": {
					"1": {"name": "keyword.control.tcescript"}
				}
			}]
		},
		"subKeywords": {
			"patterns": [{
				"match": "[\\s,:{](locationFlags|radius|centerCam|location|capacity|dice|maxRange|range|old|new|power|length|reachable|traversable|width|height|coverage|initEvents|showMounted|worldPower|setPos|particles|particlesChance|priceTable|hideNPCInv|gender|statuses|portrait|seeking|null|showCampfire|npcMovement|oldFlags|previewSprite|closeEvents|cancelEvents|hideNotifications)[\\s,:}]",
				"captures": {
					"1": {"name": "token.debug-token"}
				}
			}]
		},
		"entity": {
			"patterns": [{
				"name": "variable.language.tcescript",
				"match": "\\b(ex|tl|evt|loc|act|gol|grp|pck|bio|it|zn|cl|tg|tgl|il|spr|df|dp|pt|dc|buf|wd|cfg|na|np|ch|sp|anm|npc|pl|emy|st|pk|os|ach)-[\\w-]+"
			}]
		},
		"constant": {
			"patterns": [{
				"match": "[\\s,:{](true|false|agility|stability|mind|any|female|all|male)[\\s,:}]",
				"captures": {
					"1": {"name": "constant.language.tcescript"}
				}
			}]
		},
		"strings": {
			"name": "string.quoted.double.tcescript",
			"begin": "\"",
			"end": "\"",
			"patterns": [
				{
					"name": "constant.character.escape.tcescript",
					"match": "\\\\."
				}
			]
		}		
	},
	"scopeName": "source.tcescript"
}